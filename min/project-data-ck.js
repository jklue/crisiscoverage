function loadedDataCallBack(e,a,t){console.log(a);var l=[],s=[],o=!0;a.forEach(function(e){o&&(o=!1,_.keys(e).forEach(function(e){s.push({sTitle:e})})),l.push(_.values(e))}),console.log(s),console.log(l),$("#project_data_table").dataTable({aaData:l,aoColumns:s})}function loadTable(e){var a=window.crisis_select.value;console.log("--> now loading table for tableName: "+e+" ("+a+")"),$("#project_data_content").empty(),$("#project_data_content").append("<table id='project_data_table'></table>"),queue().defer(d3.csv,"/productiondata/"+a+"/"+tableNames[e]).defer(d3.csv,"/productiondata/"+a+"/summary.csv").await(loadedDataCallBack)}var tableSelect,tableNames=[];tableNames.country_stats="google-country_stats.csv",tableNames.baseline_stats="google-media-baseline_stats.csv",tableNames.crisis_stats="google-media_stats.csv",tableNames.crisis_sample="google-media_results_subset.csv",$(document).ready(function(){$("#crisis_form").append('<label for="data_select">Show Table: </label>        <select id="data_select">            <option value="country_stats" >Country Stats</option>                <option value="baseline_stats" >Baseline Coverage Stats</option>                    <option value="crisis_stats" >Crisis Coverage Stats</option>                        <option value="crisis_sample" >Crisis Sample Results</option>                        </select>                        <br>'),tableSelect||(tableSelect=document.getElementById("data_select")),d3.timer(function(){return loadTable(tableSelect.value),!0},2e3),tableSelect.onchange=function(){loadTable(this.value)}}),addClassNameListener("crisis_select",function(){tableSelect||(tableSelect=document.getElementById("data_select"));var e=window.crisis_select.value;console.log("### SETTING TABLE ("+tableSelect.value+") AFTER NEW CRISIS ("+e+") AFTER CLASS CHANGE ###"),loadTable(tableSelect.value)});