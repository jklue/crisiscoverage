# Google API-Derived Data  
### Overview
A quick orientation to the various production files generated for a single crisis and their potential uses.  These files will be placed within a crisis specific folder, e.g. 'haiyan-meta'. There are a few considerations and peculiarities with Google API result data for which we have accounted and will call out after describing the available resources.

### Available Data Resources
1. [google-all-country_stats_by_query_code.csv](google-all-country_stats_by_query_code.csv) and [google-all-country_stats_by_query_name.csv](google-all-country_stats_by_query_name.csv) -- Two versions of the same data, with the 'query_code' variant providing the country code used in `cr` query param, e.g. `cr=countryUS` and the 'query_name' variant providing the country name instead. _Use(s): choropleth of crisis engagement around the world._

2. [google-media_dedup_all_no_text.csv](google-media_dedup_all_no_text.csv) -- 10 weeks of results from the crisis for our media sites, which can be further distinguished by media categories _'Traditional'_, _'Blogs-Social'_, and _'Independent'_ , determined from information in the docId. There are 10 results per week per site available in this file, equaling up to 100 results per site over the crisis window captured. _Use(s): result urls can be presented for deeper exploration such as sentiment analysis or word cloud; the urls can also be explored directly in the browser. The 7zip [clean-text.7z](clean-text.7z) attachment is the output of the original pages as text files, having filenames corresponding to `[docId].txt`. Note: unzipped, the results can be quite large (~10GB) even though compressed they are small (~10MB)._

3. [google-media_stats_by_query_distinct.csv](google-media_stats_by_query_distinct.csv) -- Statistical results over the 10 weeks per media site being tracked; it is the summary information for #2 results after running the crisis query. _Use(s): line chart showing volume at a per site or aggregated into our 3 media categories._

4. [google-media-baseline_stats_by_query_distinct.csv](google-media-baseline_stats_by_query_distinct.csv) -- Statistical results over the 10 weeks per media site being tracked; it is the baseline or total `news OR coverage OR article` results. _Uses(s): show relative percentage of attention given by a site or by aggregation of sites. For example, if BBC had 10K news results the first week of the crisis, of which 5K were directed at the crisis, then 50% of their news coverage was dedicated to the crisis for that period._

5. [google-media-year_all_stats_by_query_distinct.csv](google-media-year_all_stats_by_query_distinct.csv) -- Statistical results over the entirety of the crisis, not broken down by weeks and extending beyond the 10 week window up to the date of query. This will be a single number per site.  _Use(s): list as part of overview vis, most likely adjacent to the choropleth showing country engagement. Also, and very important, these total results help us temper in-between crawl-periods where Google reports at or nearly the same results as the week prior, see discussion in the following section.

### Peculiarities with Google data
* A very big peculiarity is that a manual search of Google data in the browser does not produce the same results as running the same search via API. It is well-known that Google keeps its own special blend of secret sauce for itself; however, exactly what is and is not included in the API is not documented. The best we can piece together is that less-interesting hits determined at some cut-off of Google's page ranking are not available. This includes myriad forum data and individual comments and user posts.
* A continuation of the above point about missing data -- additionally, Twitter data is handled rather specially by Google, where API licensing does not allow Google to provide full results. Therefore, in order to provide the Twitter total (if included), we would insert the results of manual / browser querying (i.e. the total appearing on results page at [Google](http://google.com) after running a search). It is this same restriction that caused us to keep Twitter out of our specifically tracked media sites.
* Google API does not offer a great deal of clarity when temporal searches are applied to ranges below a year, e.g. w10 (10 weeks) prior to today. The results appear to conform to an opaque crawl-period or even API sync-period window which forces us to interpret weekly results in light of our knowledge of total results and the way the data precipitously adjusts. The pattern we have been able to detect in the data is that over a span of 1+ temporal periods, namely weeks, results appear to stay at or near a level of last crawled by Google and then make a noticeable drop. _We will work to mitigate this in our presentation of the data by interpolating (and visually distinguishing) periods where the data did not adjust._ 
